{% extends "base.html" %}

{% block content %}
<div class="mestre-wrapper">

  <div class="panel-box" id="painel-status">
    <div class="titulo">Atleta: <span id="nome-usuario" style="color:#fff">...</span></div>
    
    <div class="small" style="margin-top:10px; margin-bottom:5px">SENSORES CONECTADOS</div>
    <div class="sensor-row"><span>Apple Watch</span> <span id="apple_status">...</span></div>
    <div class="sensor-row"><span>Garmin</span> <span id="garmin_status">...</span></div>
    <div class="sensor-row"><span>Strava</span> <span id="strava_status">...</span></div>
    
    <div class="small" style="margin-top:10px; margin-bottom:5px">FISIOLOGIA</div>
    <div class="sensor-row"><span>âš¡ Energia</span> <span id="energia">--</span></div>
    <div class="sensor-row"><span>ğŸ˜´ Sono</span> <span id="sono_info">--</span></div>
    <div class="sensor-row"><span>ğŸ’“ HRV</span> <span id="hrv_info">--</span></div>
    <div class="sensor-row"><span>ğŸ‹ï¸ Treino</span> <span id="treino_info">--</span></div>
  </div>

  <div class="panel-box" id="chat-container">
    <div id="mensagens">
        </div>
    <div class="input-area">
        <input type="text" id="msg" placeholder="Pergunte ao Mestre..." autocomplete="off">
        <button class="enviar" onclick="enviarMensagem()">Enviar</button>
    </div>
  </div>

  <div class="panel-box">
    <div class="titulo">ğŸ’¬ Insight AURA</div>
    <div id="feedback-text" class="sub">Aguardando anÃ¡lise...</div>
  </div>

  <div class="panel-box">
    <div style="display:flex; justify-content:space-between; align-items:center;">
        <div class="titulo">NÃ­vel <span id="nivel-num">1</span></div>
        <div class="titulo" style="font-size:0.9em; color:#FFD700; border:1px solid #FFD700; padding:2px 8px; border-radius:10px;">
            ğŸ’ <span id="aura-coins">0</span>
        </div>
    </div>
    
    <div class="xp-container">
        <div class="xp-fill" id="xp-bar"></div>
    </div>
    
    <div style="display:flex; justify-content:space-between;">
        <div class="small" id="xp-atual">0 XP</div>
        <div class="small" id="xp-necessario">Meta: --</div>
    </div>

    <hr style="border:0; border-top:1px solid var(--gold-dim); margin: 10px 0;">
    
    <div style="display:flex; justify-content:space-between; align-items:center;">
        <div class="titulo">MissÃµes DiÃ¡rias</div>
        <div class="small">Feitas: <span id="missoes-concluidas">0</span></div>
    </div>
    
    <div id="lista-missoes" style="margin-top:10px;">
        <div class="small">Carregando...</div>
    </div>
  </div>

  <div class="panel-box">
    <div class="titulo">âš–ï¸ EquilÃ­brio Aural</div>
    <div class="gauge-wrapper">
        <div class="gauge-circle" id="equilibrio-gauge">
            <span id="equilibrio-percent">--</span>
        </div>
        <div style="flex:1">
            <div id="equilibrio-sub" class="titulo" style="font-size:1em;">Calculando...</div>
            <div id="equilibrio-legend" class="small">Analisando Corpo, Mente e Energia</div>
        </div>
    </div>
  </div>

</div>
{% endblock %}